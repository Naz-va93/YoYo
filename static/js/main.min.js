const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),wrapper=document.querySelector(".wrapper"),header=document.querySelector(".header"),advertisingPopup=document.getElementById("advertising-popup"),advertisingSuccessSendPopup=document.getElementById("success-popup-advertising"),advertisingInputs=document.querySelectorAll(".advertising-input"),imageBody=document.querySelectorAll(".image-body, figure");imageBody.forEach(e=>{let t=e.querySelector("img"),s=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==s.position&&(e.style.paddingTop=Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const getDeviceType=()=>{let e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function Popup(e){let t=document.querySelector("body"),s=document.querySelector("html"),i="object"==typeof e&&!!e.saveHref,o=!0,a=!0,r=function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}},n=function(e,a){if(o){o=!1;let r=document.querySelector(e);if(!r)return Error(`Not found "${e}"`);t.classList.remove("_popup-active"),s.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),i&&history.pushState("","",e),setTimeout(()=>{a?(r.classList.add("_transition-none"),r.classList.add("_active"),o=!0):(r.classList.add("_active"),r.classList.remove("fade-out"),r.classList.add("fade-in"),setTimeout(()=>{!function e(){o=!0,r.removeEventListener("transitionend",e)}()},400))},0)}},l=function(e){if(a){let o;(o="string"==typeof e?document.querySelector(e):e.closest(".popup")).classList.contains("_transition-none")&&o.classList.remove("_transition-none"),setTimeout(()=>{o.classList.remove("_active"),o.classList.remove("fade-in"),o.classList.add("fade-out"),setTimeout(()=>{!function e(){let n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),s.style.setProperty("--popup-padding","0px")),i&&(r(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),a=!0,o.removeEventListener("transitionend",e)}()},0)},0)}};return{open:function(e){n(e)},close:function(e){l(e)},init:function(){let e;if(t.addEventListener("click",function(t){let s=(e=t.target).closest(".open-popup");s&&(t.preventDefault(),n(s.getAttribute("href")));let i=e.closest(".popup-close");i&&(advertisingPopup.classList.contains("_active")&&advertisingSuccessSendPopup.classList.contains("_active")&&(l("#advertising-popup"),l("#success-popup-advertising"),advertisingInputs.forEach(function(e){e.value=""})),l(i))}),i){let s=new URL(window.location);s.hash&&n(s.hash,!0)}}}}const popup=new Popup;function dropDown(){let e=document.querySelectorAll(".drop-down"),t=[];e.forEach(e=>{let s=e.querySelector(".drop-down__target"),i=e.querySelector(".drop-down__list");t.push({block:e,target:s,list:i}),i&&body.append(i)}),Array.from(t).forEach(e=>{let s=e.target,i=e.list,o=e.block;i&&s.addEventListener("click",function(){if(!s.classList.contains("_animating")){s.classList.add("_animating"),i.style.maxWidth=2*s.offsetWidth+"px";let e=i.offsetHeight,a=i.offsetWidth,r={y:o.getBoundingClientRect().y+window.pageYOffset,x:o.getBoundingClientRect().x+window.pageXOffset};o.classList.contains("_active")||s.closest(".drop-down._active")?(i.classList.remove("fade-in"),i.classList.add("fade-out"),o.classList.remove("_active"),setTimeout(()=>{i.style.removeProperty("left"),i.style.removeProperty("top"),i.style.removeProperty("transform"),i.classList.remove("fade-out"),s.classList.remove("_animating")},300)):(Array.from(t).forEach(e=>{let t=e.target,s=e.list,i=e.block;i.classList.contains("_active")&&(s.classList.remove("fade-in"),s.classList.add("fade-out"),i.classList.remove("_active"),setTimeout(()=>{s.style.removeProperty("left"),s.style.removeProperty("top"),s.style.removeProperty("transform"),s.classList.remove("fade-out"),t.classList.remove("_animating")},300))}),i.style.display="none",r.x>=a&&r.x<window.innerWidth-a?(i.style.left=r.x+s.offsetWidth/2+"px",i.style.transform="translate3d(-50%,0,0)"):r.x+15>window.innerWidth-a?(i.style.left=r.x-a+s.offsetWidth+"px",i.style.transform="translate3d(0,0,0)"):r.x<=a&&(i.style.left=r.x+"px",i.style.transform="translate3d(0,0,0)"),s.getBoundingClientRect().bottom+e>=window.innerHeight?i.style.top=r.y-e-9+"px":s.getBoundingClientRect().bottom+e<wrapper.offsetHeight&&(i.style.top=r.y+s.offsetHeight+9+"px"),i.style.removeProperty("display"),o.classList.add("_active"),i.classList.add("fade-in"),s.classList.remove("_animating"))}})}),window.addEventListener("resize",function(){Array.from(t).forEach(e=>{let t=e.target,s=e.list,i=e.block;if(i.classList.contains("_active")&&s){let o=s.offsetHeight,a=s.offsetWidth,r={y:i.getBoundingClientRect().y+window.pageYOffset,x:i.getBoundingClientRect().x+window.pageXOffset};r.x>=a&&r.x<window.innerWidth-a?(s.style.left=r.x+t.offsetWidth/2+"px",s.style.transform="translate3d(-50%,0,0)"):r.x+15>window.innerWidth-a?(s.style.left=r.x-a+t.offsetWidth+"px",s.style.transform="translate3d(0,0,0)"):r.x<=a&&(s.style.left=r.x+"px",s.style.transform="translate3d(0,0,0)"),t.getBoundingClientRect().bottom+o>=window.innerHeight?s.style.top=r.y-o-9+"px":t.getBoundingClientRect().bottom+o<wrapper.offsetHeight&&(s.style.top=r.y+t.offsetHeight+9+"px")}})}),body.addEventListener("click",function(e){e.target.closest(".drop-down")||Array.from(t).forEach(e=>{let t=e.target,s=e.list,i=e.block;i.classList.contains("_active")&&s&&(s.classList.remove("fade-in"),s.classList.add("fade-out"),i.classList.remove("_active"),setTimeout(()=>{s.style.removeProperty("left"),s.style.removeProperty("top"),s.style.removeProperty("transform"),s.classList.remove("fade-out"),t.classList.remove("_animating")},300))})})}popup.init(),dropDown(),body.addEventListener("click",function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")}),t(".header__nav-bg")&&menu.forEach(e=>{e.classList.remove("_mob-menu-active")});let s=t(".header__nav--list a");s&&windowSize<992&&menu.forEach(e=>{e.classList.remove("_mob-menu-active")});let i=t(".header__nav--list > li");if(i&&"desktop"!=getDeviceType()&&windowSize>=992?i.classList.contains("has-list")&&(i.classList.contains("active")?(i.classList.remove("active"),header.classList.remove("_bg-active")):(e.preventDefault(),i.classList.toggle("active"),header.classList.add("_bg-active"))):document.querySelector(".header__nav--list li.active")&&(document.querySelector(".header__nav--list li.active").classList.remove("active"),header.classList.remove("_bg-active")),!t(".check-input-focus-wrapper")||t(".check-input-focus-bg")){let o=document.querySelectorAll(".check-input-focus");o.forEach(e=>{let t=e.closest("label");t.classList.remove("focus"),header.classList.remove("_search-active")})}let a=t(".header__search--hide");if(a&&!a.classList.contains("_animating")){let r=a.closest(".header__search"),n=r.querySelector(".header__search--list");a.classList.contains("_active")?a.classList.contains("_active")&&(a.classList.remove("_active"),a.classList.add("_animating"),slideDown(n),setTimeout(()=>{a.classList.remove("_animating")},300)):(a.classList.add("_active"),a.classList.add("_animating"),slideUp(n),setTimeout(()=>{a.classList.remove("_animating")},300))}let l=t(".header__search--toggle");if(l){menu.forEach(e=>{e.classList.remove("_mob-menu-active")});let c=t(".header__search");c.classList.contains("_active")?(c.classList.remove("_active"),header.classList.remove("_search-active")):(c.classList.add("_active"),header.classList.add("_search-active"))}else(!t(".header__search")&&document.querySelector(".header__search")||t(".header__search--bg"))&&(document.querySelector(".header__search").classList.remove("_active"),header.classList.remove("_search-active"));let d=t(".favorite-btn");d&&d.classList.toggle("_active");let g=t(".filter__btn");if(g){let u=t(".filter").querySelector(".filter__popup");g.classList.contains("_active")?(g.classList.remove("_active"),u.classList.remove("fade-in"),u.classList.add("fade-out"),u.closest("section").style.minHeight="0px"):(g.classList.add("_active"),u.classList.remove("fade-out"),u.classList.add("fade-in"),u.closest("section").style.minHeight=`${u.offsetHeight+150}px`)}else(!t(".filter__btn")&&!t(".filter__popup")||t(".filter__popup--close"))&&document.querySelectorAll(".filter__popup.fade-in").forEach(e=>{e.classList.remove("fade-in"),e.classList.add("fade-out");let t=e.closest(".filter").querySelector(".filter__btn");t.classList.remove("_active")});let p=t(".btn-to-scroll");if(p){e.preventDefault();let h;h=document.querySelector(p.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),h?window.scrollTo({top:h.offsetTop,left:0,behavior:"smooth"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}let m=t(".promote__block--target");if(m){let f=m.closest(".promote__block"),y=f.querySelector(".promote__block--content");f.classList.contains("_active")&&!f.classList.contains("_animating")?(f.classList.add("_animating"),f.classList.remove("_active"),y.style.display="block",slideUp(y),setTimeout(()=>{f.classList.remove("_animating")},300)):f.classList.contains("_active")||f.classList.contains("_animating")||(f.classList.add("_animating"),slideDown(y),f.classList.add("_active"),setTimeout(()=>{f.classList.remove("_animating")},300))}let v=t(".calendar tbody td a");if(v){e.preventDefault();let L=v.closest(".calendar");if(L){let b=L.dataset.coinId;if(b){let $=document.querySelector(`#${b}`);if($){if($.value||!$.required)$.required?v.setAttribute("href",`${v.getAttribute("href")}?${$.name}=${$.value}`):v.setAttribute("href",`${v.getAttribute("href")}?${$.name}=none`),window.location.href=v.getAttribute("href");else if($.closest("form")){let S=$.closest("form");S.classList.add("error"),window.scrollTo({top:S.offsetTop,left:0,behavior:"smooth"}),$.oninput=function(){S.classList.remove("error")}}}}}}let k=t(".table-coins thead button");if(k){k.closest(".table-coins");let w=k.querySelector("svg").querySelector("use");document.querySelectorAll("._active-up").forEach(e=>{let t=e.querySelector("svg").querySelector("use");e!=k&&(e.classList.remove("_active-up"),t.setAttribute("xlink:href",t.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down"))}),document.querySelectorAll("._active-down").forEach(e=>{let t=e.querySelector("svg").querySelector("use");e!=k&&(e.classList.remove("_active-down"),t.setAttribute("xlink:href",t.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down"))}),k.classList.contains("_active-up")||k.classList.contains("_active-down")?k.classList.contains("_active-up")&&!k.classList.contains("_active-down")?(k.classList.remove("_active-up"),k.classList.add("_active-down"),w.setAttribute("xlink:href",w.getAttribute("xlink:href").split("#")[0]+"#arrow-down-active")):(k.classList.remove("_active-up"),k.classList.remove("_active-down"),w.setAttribute("xlink:href",w.getAttribute("xlink:href").split("#")[0]+"#arrows-up-down")):(k.classList.add("_active-up"),w.setAttribute("xlink:href",w.getAttribute("xlink:href").split("#")[0]+"#arrow-up-active"))}let q=t(".pagination__list button");if(q){q.closest("section").querySelector(".table-coins tbody"),q.closest(".pagination__list");let I=q.parentElement.querySelector(".pagination__list button.current");I.classList.remove("current"),q.classList.add("current")}let A=t(".pagination__arrow");if(A){let E=A.parentElement.querySelector(".pagination__list button.current");E.classList.remove("current")}});const headerNavLink=document.querySelectorAll(".header__nav--list > li");headerNavLink.forEach(e=>{e.querySelector("ul")&&(e.addEventListener("pointerenter",function(){"desktop"==getDeviceType()&&header.classList.add("_bg-active")}),e.addEventListener("pointerleave",function(){header.classList.remove("_bg-active")}))});let resizeCheck={},windowSize;const appendToOnTablet=document.querySelectorAll("[data-append-to-on-tablet]"),appendToOnTabletArray=[];function resizeCheckFunc(e,t,s){windowSize<=e&&(!0==resizeCheck[String(e)]||void 0==resizeCheck[String(e)])&&!1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,s()),windowSize>=e&&(!1==resizeCheck[String(e)]||void 0==resizeCheck[String(e)])&&!0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),document.querySelectorAll(".switch__input:checked").forEach(e=>{let t=e.closest(".switch"),s=t.querySelector(".switch__pseudo-btn"),i=e.closest(".switch__btn");s.style.width=i.offsetWidth+"px"}),resizeCheckFunc(992,function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.parent.append(e.element),e.element.style.removeProperty("display")})},function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.appendAddress.append(e.element),e.element.style.removeProperty("display")})})}appendToOnTablet.forEach(e=>{e.style.display="none",appendToOnTabletArray.push({element:e,parent:e.parentElement,appendAddress:document.querySelector(e.dataset.appendToOnTablet)})}),resize(),window.onresize=resize;const switchInput=document.querySelectorAll(".switch__input");switchInput.forEach(e=>{let t=e.closest(".switch"),s=!!e.dataset.titleId&&document.querySelector(e.dataset.titleId),i=t.querySelector(".switch__pseudo-btn");if(e.checked){window.onload=function(){setTimeout(()=>{let t=e.closest(".switch__btn");i.style.transition="all 0s linear",i.style.width=t.offsetWidth+"px",setTimeout(()=>{i.style.removeProperty("transition")},200)},0)};let o=e.closest(".switch__btn");i.style.transitionDuration="0s",o==t.querySelectorAll(".switch__btn")[0]?(i.style.transform="translate3d(0%,0,0)",i.style.left="0%",i.style.width=o.offsetWidth+"px"):(i.style.transform="translate3d(-100%,0,0)",i.style.left="100%",i.style.width=o.offsetWidth+"px"),i.style.removeProperty("transition-duration"),s&&e.dataset.titleClass&&(s.classList.remove("_mode-1"),s.classList.remove("_mode-2"),s.classList.add(e.dataset.titleClass))}e.addEventListener("change",function(){let o=e.closest(".switch__btn");table=e.closest("section").querySelector(".table-coins tbody"),o==t.querySelectorAll(".switch__btn")[0]?(i.style.transform="translate3d(0%,0,0)",i.style.left="0%",i.style.width=o.offsetWidth+"px"):(i.style.transform="translate3d(-100%,0,0)",i.style.left="100%",i.style.width=o.offsetWidth+"px"),s&&e.dataset.titleClass&&(s.classList.remove("_mode-1"),s.classList.remove("_mode-2"),s.classList.add(e.dataset.titleClass))})});const checkInputFocus=document.querySelectorAll(".check-input-focus");checkInputFocus.forEach(e=>{let t=e.closest("label");e.addEventListener("focus",function(){t&&t.classList.add("focus"),header.classList.add("_search-active")})});const calendar=document.querySelectorAll(".calendar");calendar.forEach(e=>{let t=e.dataset.base,s=e.closest(".calendar-wrapper"),i=s.querySelector(".calendar-current"),o=s.querySelector(".calendar-arrow._prev"),a=s.querySelector(".calendar-arrow._next"),r=jsCalendar.new(e,new Date,{monthFormat:"month YYYY"});r.onDateRender(function(e,s,i){let o=[e.getDate(),e.getMonth()+1<9?"0"+(e.getMonth()+1):e.getMonth()+1,e.getFullYear()];if(t){let a=s.textContent;s.textContent="",i.isSelected?s.insertAdjacentHTML("beforeend",`<input class="visually-hidden" checked type="checkbox" name="date" value="${o[0]}-${o[1]}-${o[2]}"/>${a}`):s.insertAdjacentHTML("beforeend",`<input class="visually-hidden" type="checkbox" name="date" value="${o[0]}-${o[1]}-${o[2]}"/>${a}`)}nowDate=new Date;let r=new Date;r.setMonth(nowDate.getMonth()+1),!(Math.floor((delta=nowDate.getTime()-e.getTime())/1e3/60/60/24)>0)||s.querySelector('input[type="checkbox"]').disabled||s.classList.contains("disabled")||(s.querySelector('input[type="checkbox"]').disabled=!0,s.classList.add("disabled")),Math.floor((e-r)/864e5)>0&&(s.querySelector('input[type="checkbox"]').disabled=!0,s.classList.add("disabled"))}),void 0!=e.dataset.calendarDates&&r.select(e.dataset.calendarDates.split(", ")),r.refresh(),setTimeout(()=>{i&&(i.textContent=s.querySelector(".jsCalendar-title-name").textContent)},0),o.addEventListener("click",function(){r.previous(),i&&(i.textContent=s.querySelector(".jsCalendar-title-name").textContent)}),a.addEventListener("click",function(){r.next(),i&&(i.textContent=s.querySelector(".jsCalendar-title-name").textContent)}),r.onDateClick(function(e,t){e.target.classList.contains("jsCalendar-next")||e.target.classList.contains("jsCalendar-previous")||(e.target.classList.contains("jsCalendar-selected")?r.unselect(t):r.select(t))})}),document.querySelectorAll("[data-clipboard-target]").forEach(e=>{new ClipboardJS(e)});const toOrderBtn=document.querySelector(".to-order-btn");if(toOrderBtn){let e=document.querySelector(toOrderBtn.getAttribute("href"));window.addEventListener("scroll",function(){e.getBoundingClientRect().y-e.offsetHeight>=0&&!toOrderBtn.classList.contains("_hidden")?(toOrderBtn.classList.add("_hidden"),toOrderBtn.classList.remove("fade-out"),toOrderBtn.classList.add("fade-in")):e.getBoundingClientRect().y-e.offsetHeight<0&&toOrderBtn.classList.contains("_hidden")&&(toOrderBtn.classList.remove("_hidden"),toOrderBtn.classList.remove("fade-out"),toOrderBtn.classList.add("fade-out"))})}const headerNavList=document.querySelectorAll(".header__nav--list");headerNavList.forEach(e=>{let t=e.querySelectorAll("li");t.forEach(e=>{e.querySelector("ul")&&e.classList.add("has-list")})});const advertisingForm=document.querySelector(".advertising__form");advertisingForm&&advertisingForm.addEventListener("submit",function(e){e.preventDefault();let t=new FormData(advertisingForm),s=advertisingForm.querySelector("[name=csrfmiddlewaretoken]").value;fetch(advertisingForm.action,{method:"POST",body:t,headers:{"X-CSRFToken":s}}),popup.open("#success-popup-advertising")});const errorPopupText=document.querySelector(".error-popup__container-text"),addCoinForm=document.querySelector(".add-coin__form");addCoinForm&&addCoinForm.addEventListener("submit",function(e){e.preventDefault();let t=new FormData(addCoinForm),s=addCoinForm.querySelector("[name=csrfmiddlewaretoken]").value;fetch(addCoinForm.action,{method:"POST",body:t,headers:{"X-CSRFToken":s}}).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{"success"===e.status?popup.open("#success-popup"):"error"===e.status&&popup.open("#error-popup")})});const settings=document.querySelector(".settings"),headerNavlist=document.querySelector(".header__nav--list"),settingsListWrapper=document.querySelector(".settings-list-wrapper"),addCoinLi=document.getElementById("add-coin-li"),advertisingLi=document.getElementById("advertising-li"),accountItem=document.querySelector(".account-item"),settingsExpand=document.querySelector(".settings-expand"),settingsBtn=document.querySelector(".settings-btn");settings.addEventListener("pointerenter",function(){"desktop"==getDeviceType()&&header.classList.add("_bg-active")}),settings.addEventListener("pointerleave",function(){header.classList.remove("_bg-active")}),settingsBtn.addEventListener("click",()=>{window.innerWidth<=991&&(headerNavlist.classList.toggle("visually-hidden"),addCoinLi.classList.toggle("visually-hidden"),advertisingLi.classList.toggle("visually-hidden"),accountItem.classList.toggle("visually-hidden"),settingsExpand.classList.toggle("visually-hidden"),settingsBtn.classList.toggle("settings-btn-expand-mobile"),settingsListWrapper.classList.toggle("visually-visible"))});const themeSwitch=document.getElementById("theme-switch"),modeContainer=themeSwitch.querySelector(".mode-on-off"),darkThemePath=`<rect width="24" height="24" fill="#96EA43" stroke="#292C31" rx="4.5"/>
<path stroke="#292C31" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.333" d="m8.521 11.153 3.026 4.114 4.402-5.513"/>`,lightThemePath=`<rect width="24" height="24" fill="#96EA43" stroke="#fff" rx="4.5"/>
<path d="M8.5 8.5L15.5 15.5M15.5 8.5L8.5 15.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>`,statisticsBg=document.querySelector(".statistics__bg-img"),statisticsImageWebp=document.querySelector(".statistics__image-webp"),statisticsImageImg=document.querySelector(".statistics__image-img"),filterItemTitleImgs=document.querySelectorAll(".filter__item--title-img"),contactUsBgImg=document.querySelector(".contact-us__bg-img"),contactUsImageBodyWebp=document.querySelector(".contact-us__image--body-webp"),contactUsImageBodyImg=document.querySelector(".contact-us__image--body-img"),heroBgPicturesDark=document.querySelectorAll(".hero__bg-picture-dark"),heroBgPicturesLight=document.querySelectorAll(".hero__bg-picture-light"),headerLogoImg=document.querySelector(".header__logo--img"),footerLogoImg=document.querySelector(".footer__logo--img"),themeFile=document.getElementById("theme-file");function updateElementsForLightMode(){themeFile.href=whiteThemeFileUrl,statisticsBg&&(statisticsBg.src=statisticsBg.getAttribute("data-src-light")),statisticsImageWebp&&statisticsImageWebp.setAttribute("srcset",statisticsImageWebp.getAttribute("data-srcset-light")),statisticsImageImg&&statisticsImageImg.setAttribute("src",statisticsImageImg.getAttribute("data-src-light")),contactUsBgImg&&(contactUsBgImg.src=contactUsBgImg.getAttribute("data-src-light")),contactUsImageBodyWebp&&contactUsImageBodyWebp.setAttribute("srcset",contactUsImageBodyWebp.getAttribute("data-srcset-light")),contactUsImageBodyImg&&contactUsImageBodyImg.setAttribute("src",contactUsImageBodyImg.getAttribute("data-src-light")),headerLogoImg&&(headerLogoImg.src=headerLogoImg.getAttribute("src-light")),footerLogoImg&&(footerLogoImg.src=footerLogoImg.getAttribute("src-light")),filterItemTitleImgs.forEach(e=>{e.src=e.getAttribute("src-light")}),heroBgPicturesDark.forEach(e=>{e.classList.add("visually-hidden")}),heroBgPicturesLight.forEach(e=>{e.classList.remove("visually-hidden")})}function updateElementsForDarkMode(){themeFile.href="",statisticsBg&&(statisticsBg.src=statisticsBg.getAttribute("data-src-dark")),statisticsImageWebp&&statisticsImageWebp.setAttribute("srcset",statisticsImageWebp.getAttribute("data-srcset-dark")),statisticsImageImg&&statisticsImageImg.setAttribute("src",statisticsImageImg.getAttribute("data-src-dark")),contactUsBgImg&&(contactUsBgImg.src=contactUsBgImg.getAttribute("data-src-dark")),contactUsImageBodyWebp&&contactUsImageBodyWebp.setAttribute("srcset",contactUsImageBodyWebp.getAttribute("data-srcset-dark")),contactUsImageBodyImg&&contactUsImageBodyImg.setAttribute("src",contactUsImageBodyImg.getAttribute("data-src-dark")),headerLogoImg&&(headerLogoImg.src=headerLogoImg.getAttribute("src-dark")),footerLogoImg&&(footerLogoImg.src=footerLogoImg.getAttribute("src-dark")),filterItemTitleImgs.forEach(e=>{e.src=e.getAttribute("src-dark")}),heroBgPicturesDark.forEach(e=>{e.classList.remove("visually-hidden")}),heroBgPicturesLight.forEach(e=>{e.classList.add("visually-hidden")})}"dark"===localStorage.getItem("coinyoyo-theme")?(document.body.classList.add("dark"),themeSwitch.classList.add("dark"),modeContainer.innerHTML=darkThemePath,updateElementsForDarkMode()):(modeContainer.innerHTML=lightThemePath,updateElementsForLightMode()),themeSwitch.addEventListener("click",()=>{document.body.classList.toggle("dark"),themeSwitch.classList.toggle("dark"),document.body.classList.contains("dark")?(localStorage.setItem("coinyoyo-theme","dark"),modeContainer.innerHTML=darkThemePath,updateElementsForDarkMode()):(localStorage.removeItem("coinyoyo-theme"),modeContainer.innerHTML=lightThemePath,updateElementsForLightMode())});const languagesButton=document.querySelector(".languages-button"),languagesList=document.querySelector(".languages-list"),settingsList=document.querySelector(".settings-list"),currentLanguage=document.querySelector(".current-language"),languagesExpand=document.querySelector(".languages-expand"),settingsItemLanguages=document.querySelector(".settings-item.languages");languagesButton.addEventListener("click",()=>{settingsList.classList.toggle("show-languages"),languagesButton.classList.toggle("show"),languagesList.classList.toggle("show"),currentLanguage.classList.toggle("visually-hidden"),languagesExpand.classList.toggle("visually-hidden"),settingsItemLanguages.classList.toggle("show")});const notificationVoteAccepted=document.getElementById("notification-vote-accepted"),notificationVoteTryLater=document.getElementById("notification-try-vote-later"),closeNotificationsButtons=document.querySelectorAll(".close-notification"),containerNotifications=document.getElementById("notification-container");function handleVoteClick(e){e.preventDefault();let t=e.target.closest(".vote-btn"),s=t.querySelector(".votes-btn-cnt");coinId=t.getAttribute("data-coin-pk"),t.classList.contains("canVote")?fetch(`/vote-coin/?coin=${coinId}`,{method:"GET"}).then(e=>e.json()).then(e=>{if(e.status){t.classList.remove("canVote");let i=parseInt(s.textContent.trim(),10);isNaN(i)||(s.textContent=i+1),createNotification(!0)}else createNotification(!1)}):t.classList.contains("open-popup")||createNotification(!1)}function updateListenersVoteCoinButtons(){let e=document.querySelectorAll(".vote-btn");e.forEach(e=>{e.removeEventListener("click",handleVoteClick),e.addEventListener("click",handleVoteClick)})}function createNotification(e,t){let s;s="copy"===t?notificationCopySuccess.cloneNode(!0):e?notificationVoteAccepted.cloneNode(!0):notificationVoteTryLater.cloneNode(!0),containerNotifications.children.length>=5&&containerNotifications.removeChild(containerNotifications.firstChild),setTimeout(()=>{containerNotifications.children.length>=5&&containerNotifications.removeChild(containerNotifications.firstChild),containerNotifications.appendChild(s),setTimeout(()=>{s.classList.add("show")},50),setTimeout(()=>{s.classList.add("hide"),setTimeout(()=>{s.parentNode===containerNotifications&&containerNotifications.removeChild(s)},300)},5e3)},50)}closeNotificationsButtons.forEach(e=>{e.addEventListener("click",function(e){let t=e.target.closest(".notification");t&&t.remove()})}),updateListenersVoteCoinButtons(),containerNotifications.addEventListener("click",function(e){if(e.target.classList.contains("close-notification")||e.target.closest(".close-notification")){let t=e.target.closest(".notification")||e.target.closest(".vote-accepted");t&&containerNotifications.removeChild(t)}});const notificationCopySuccess=document.getElementById("notification-copy-success");document.querySelector('button[title="Copy"]').addEventListener("click",function(e){createNotification(!1,"copy")});var containers=document.querySelectorAll(".best__table--wrapper.scroll-wrapper");containers.forEach(function(e){e.addEventListener("scroll",function(){var t=e.querySelector(".table-coins_second-th"),s=e.querySelectorAll(".table-coins_second-td");e.scrollLeft>0?(t.classList.add("scroll"),s.forEach(function(e){e.classList.add("scroll")})):(t.classList.remove("scroll"),s.forEach(function(e){e.classList.remove("scroll")}))})}),new LazyLoad;